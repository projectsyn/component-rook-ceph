= Alert rule: CephMonHighNumberOfLeaderChanges

include::partial$runbooks/contribution_note.adoc[]

== icon:glasses[] Overview

This alert fires when there have been more than 0.95 MON quorum leader changes per minute.
A high amount of leader changes indicates instability in the running MON pods.

== icon:bug[] Steps for debugging

=== Check MON pods for restarts

:component: MON
:investigate: Investigate pods with more than zero restarts.

include::partial$runbooks/check_component_pod_status.adoc[]

=== Check if pod restarts were caused by resource limits

For pods with more than zero restarts, check if they were restarted due to resource consumption.

[source,console]
----
$ ceph_cluster_ns=syn-rook-ceph-cluster
$ kubectl -n "${ceph_cluster_ns}" describe pod <POD_WITH_RESTARTS>
----

In particular, check whether section `State` for container `mon` has a note that the previous container was OOMKilled.
